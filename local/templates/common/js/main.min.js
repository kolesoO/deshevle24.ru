$(document).ready(function(){$("body").on("click","a[href^='#']",function(t){var a=$(this).attr("href");"#"!=a&&$(a).length>0&&(t.preventDefault(),$("body,html").animate({scrollTop:$(a).offset().top},1e3))});var t,a=0,e=t=>{t.find(".js-drop_down-content").each(function(){(a=$(this).outerHeight())>0&&($(this).attr("data-height",a),"true"!=$(this).attr("is-active")?$(this).height(0):($(this).parents(".js-drop_down").first().find(".js-drop_down-btn").first().addClass("active"),$(this).addClass("active"),$(this).outerHeight($(this).attr("data-height"))))})};$(".js-drop_down").each(function(){e($(this))}),$("body").on("click",".js-drop_down-btn",function(t){t.preventDefault();var a=$(this).closest(".js-drop_down"),e=a.find(".js-drop_down-content").first();a.length>0&&($(this).hasClass("active")?(e.removeClass("active"),e.outerHeight(0)):(e.addClass("active"),e.height(e.attr("data-height")))),$(this).toggleClass("active")}),$("body").on("click touchstart",function(a){$(a.target).closest(".js-drop_down-btn").length>0||$(a.target).closest(".js-drop_down-content").length>0||$(".js-drop_down-content[data-height]:not([is-active='true']):not([data-static])").each(function(){(t=$(this).parents(".js-drop_down").first()).find(".js-drop_down-btn").removeClass("active"),t.find(".js-drop_down-content").removeClass("active"),t.find(".js-drop_down-content").height(0)})}),$("body").on("click","[data-popup-open]",function(t){t.preventDefault();var a=$($(this).attr("data-popup-open"));a.length>0&&($(".popup").hide(),$("body").css("overflow","hidden"),a.fadeIn(),a[0].hasAttribute("data-animate")&&a.find(".popup_content").addClass("animate"),a.find(".js-drop_down").each(function(){$(this).find(".js-drop_down-content").each(function(){$(this)[0].hasAttribute("data-height")||($(this).attr("data-height",$(this).outerHeight()),$(this).height(0))})}))}),$("body").on("click","[data-popup-close]",function(t){t.preventDefault();var a=$(this).parents(".popup").first();$("body").css("overflow","auto"),a.hide(),a.find(".popup_content").removeClass("animate")}),$("body").on("click touchstart",function(t){$(t.target).closest(".js-popup_content").length>0||$(t.target).closest("[data-popup-open]").length>0||($("body").css("overflow","auto"),$(".popup .popup_content").removeClass("animate"),$(".popup").hide())}),$("body").on("click",".js-toggle_class",function(t){t.preventDefault();var a,e=$(this).attr("data-class");(a="true"==$(this).attr("data-is_parent")?$(this).closest($(this).attr("data-target")):$($(this).attr("data-target")))&&(a.hasClass(e)?(a.removeClass(e),$(this).removeClass(e)):(a.addClass(e),$(this).addClass(e)))}),$(".js-markable > a").hover(function(){var t=$(this).parent(),a=$(this).attr("data-value");parseInt(a)>0&&t.length>0&&t.find("a").each(function(){$(this).attr("data-value")<=a&&$(this).addClass("active")})},function(){var t=$(this).parent(),a=t.attr("data-value")?t.attr("data-value"):0;t.hasClass("active")||t.find("a").each(function(){$(this).attr("data-value")>a&&$(this).removeClass("active")})}),$(".js-markable > a").on("click",function(t){t.preventDefault();var a=$(this).parent(),e=$(this).attr("data-value");parseInt(e)>0&&a.length>0&&(a.find("a").each(function(){$(this).attr("value")<=e&&$(this).addClass("active")}),a.attr("data-target")&&$(a.attr("data-target")).val(e),a.attr("data-value",e))}),$("body").on("change",".js-filter-range-value",function(){var t=$(this).attr("data-target");$(t).length>0&&($(t).val($(this).val()),$(t).attr("value",$(this).val()),$(t).change())}),$("body").on("input",".js-filter-range-value",function(){var t=$(this).parent();$displayBlock=t.find(".js-filter-range-display"),$displayBlock.length>0&&($displayBlock.attr("data-mask")?$displayBlock.html($displayBlock.attr("data-mask").replace("X",number_format($(this).val(),".",""))):$displayBlock.text(number_format($(this).val(),".","")))}),$(".js-range").each(function(){var t=$(this),a=parseFloat(t.attr("data-step")),e=t.get(0),s=parseFloat(t.attr("data-min")),i=parseFloat(t.attr("data-max")),o=parseFloat(t.attr("data-cur_min")),n=parseFloat(t.attr("data-cur_max")),r=$(t.attr("data-target_min")),l=$(t.attr("data-target_max"));t.parent().find(".js-filter-range-display");noUiSlider.create(e,{start:[o,n],step:a>0?a:10,connect:!0,range:{min:s,max:i}}),e.noUiSlider.on("change",function(t){r.attr("value",t[0]),l.attr("value",t[1]),l.keyup()}),e.noUiSlider.on("slide",function(t){r.attr("value",t[0]),l.attr("value",t[1])})}),$("input[type=tel]").mask("+7 (999) 999-9999"),$(".js-catalog_filter").on("click",function(t){t.preventDefault(),$(this).hasClass("active")?($(".catalog_list").addClass("col-lg-24"),$(".catalog_list").removeClass("col-lg-18"),$(".catalog_list").addClass("filter_inctive"),$(this).text("Показать фильтры"),obSlider.init(".catalog_list-content")):($(".catalog_list").removeClass("col-lg-24"),$(".catalog_list").addClass("col-lg-18"),$(".catalog_list").removeClass("filter_inctive"),$(this).text("Скрыть фильтры"),obSlider.destroy(".catalog_list-content"))}),setTimeout(function(){$(".js-catalog_filter").trigger("click")},1e3),$("body").on("click",".js-basket-step input",function(){$(this).closest(".js-basket-step").parent().find(".js-basket-step").removeClass("active"),$(this).closest(".js-basket-step").addClass("active")}),"object"==typeof obSlider&&obSlider.init(),"object"==typeof obTabs&&obTabs.init(),BX.ready(function(){BX.showWait=function(t){BX.lastNode=t,BX.addClass(BX(t),"loading")},BX.closeWait=function(t){t||(t=BX.lastNode),BX.removeClass(BX(t),"loading")}})});
